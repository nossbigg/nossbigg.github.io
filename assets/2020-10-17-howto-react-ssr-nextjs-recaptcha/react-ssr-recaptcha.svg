<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="517px" preserveAspectRatio="none" style="width:707px;height:517px;" version="1.1" viewBox="0 0 707 517" width="707px" zoomAndPan="magnify"><defs><filter height="300%" id="fa3efs56rltbn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="302" x="200.25" y="29.4023">React SSR + Google reCATPCHA v3</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="47" x2="47" y1="123.6875" y2="433.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="233" x2="233" y1="123.6875" y2="433.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="430.5" x2="430.5" y1="123.6875" y2="433.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="621.5" x2="621.5" y1="123.6875" y2="433.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="5" y="120.7344">User Device</text><ellipse cx="47.5" cy="50.1992" fill="#FEFECE" filter="url(#fa3efs56rltbn)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M47.5,58.1992 L47.5,85.1992 M34.5,66.1992 L60.5,66.1992 M47.5,85.1992 L34.5,100.1992 M47.5,85.1992 L60.5,100.1992 " fill="none" filter="url(#fa3efs56rltbn)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="5" y="445.707">User Device</text><ellipse cx="47.5" cy="458.6602" fill="#FEFECE" filter="url(#fa3efs56rltbn)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M47.5,466.6602 L47.5,493.6602 M34.5,474.6602 L60.5,474.6602 M47.5,493.6602 L34.5,508.6602 M47.5,493.6602 L60.5,508.6602 " fill="none" filter="url(#fa3efs56rltbn)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fa3efs56rltbn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="168" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="175" y="108.7344">React SSR Server</text><rect fill="#FEFECE" filter="url(#fa3efs56rltbn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="168" y="432.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="175" y="452.707">React SSR Server</text><rect fill="#FEFECE" filter="url(#fa3efs56rltbn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="369.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="376.5" y="108.7344">Backend Server</text><rect fill="#FEFECE" filter="url(#fa3efs56rltbn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="369.5" y="432.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="376.5" y="452.707">Backend Server</text><rect fill="#FEFECE" filter="url(#fa3efs56rltbn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="545.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="552.5" y="108.7344">Google reCAPTCHA</text><rect fill="#FEFECE" filter="url(#fa3efs56rltbn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="545.5" y="432.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="552.5" y="452.707">Google reCAPTCHA</text><polygon fill="#A80036" points="221.5,150.998,231.5,154.998,221.5,158.998,225.5,154.998" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47.5" x2="227.5" y1="154.998" y2="154.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="54.5" y="150.2559">Load page</text><polygon fill="#A80036" points="418.5,180.3086,428.5,184.3086,418.5,188.3086,422.5,184.3086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233.5" x2="424.5" y1="184.3086" y2="184.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="240.5" y="179.5664">Request non-sensitive data</text><polygon fill="#A80036" points="244.5,194.3086,234.5,198.3086,244.5,202.3086,240.5,198.3086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238.5" x2="429.5" y1="198.3086" y2="198.3086"/><polygon fill="#A80036" points="58.5,223.6191,48.5,227.6191,58.5,231.6191,54.5,227.6191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52.5" x2="232.5" y1="227.6191" y2="227.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="64.5" y="222.877">Return pre-rendered page</text><polygon fill="#A80036" points="609.5,252.9297,619.5,256.9297,609.5,260.9297,613.5,256.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47.5" x2="615.5" y1="256.9297" y2="256.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="54.5" y="252.1875">Get reCAPTCHA token</text><polygon fill="#A80036" points="58.5,266.9297,48.5,270.9297,58.5,274.9297,54.5,270.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52.5" x2="620.5" y1="270.9297" y2="270.9297"/><polygon fill="#A80036" points="418.5,296.2402,428.5,300.2402,418.5,304.2402,422.5,300.2402" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47.5" x2="424.5" y1="300.2402" y2="300.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="54.5" y="295.498">Request sensitive data with reCAPTCHA token</text><polygon fill="#A80036" points="609.5,325.5508,619.5,329.5508,609.5,333.5508,613.5,329.5508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="430.5" x2="615.5" y1="329.5508" y2="329.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="437.5" y="324.8086">Validate reCATPCHA token</text><polygon fill="#A80036" points="441.5,339.5508,431.5,343.5508,441.5,347.5508,437.5,343.5508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="435.5" x2="620.5" y1="343.5508" y2="343.5508"/><polygon fill="#A80036" points="58.5,368.8613,48.5,372.8613,58.5,376.8613,54.5,372.8613" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52.5" x2="429.5" y1="372.8613" y2="372.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="64.5" y="368.1191">Return sensitive data</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47.5" x2="89.5" y1="402.1719" y2="402.1719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="402.1719" y2="415.1719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48.5" x2="89.5" y1="415.1719" y2="415.1719"/><polygon fill="#A80036" points="58.5,411.1719,48.5,415.1719,58.5,419.1719,54.5,415.1719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="54.5" y="397.4297">Display sensitive data</text><!--MD5=[184d44e3e7bed2954f93944d3defced1]
@startuml

title React SSR + Google reCATPCHA v3

actor "User Device" as USER
participant "React SSR Server" as REACT
participant "Backend Server" as BE
participant "Google reCAPTCHA" as GR

USER -> REACT: Load page 
REACT -> BE: Request non-sensitive data
BE -> REACT
REACT -> USER: Return pre-rendered page
USER -> GR: Get reCAPTCHA token
GR -> USER
USER -> BE: Request sensitive data with reCAPTCHA token
BE -> GR: Validate reCATPCHA token
GR -> BE
BE -> USER: Return sensitive data
USER -> USER: Display sensitive data

@enduml

PlantUML version 1.2020.18(Thu Oct 01 03:40:44 SGT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: SG
--></g></svg>